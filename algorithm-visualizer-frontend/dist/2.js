(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{477:function(e,t,a){"use strict";var n=a(2),r=a(3),o=a(6),i=a.n(o),s=a(0),l=a.n(s),c=a(7),p=l.a.forwardRef((function(e,t){var a=e.bsPrefix,o=e.size,s=e.toggle,p=e.vertical,m=e.className,d=e.as,g=void 0===d?"div":d,b=Object(r.a)(e,["bsPrefix","size","toggle","vertical","className","as"]),u=Object(c.b)(a,"btn-group"),h=u;return p&&(h=u+"-vertical"),l.a.createElement(g,Object(n.a)({},b,{ref:t,className:i()(m,h,o&&u+"-"+o,s&&u+"-toggle")}))}));p.displayName="ButtonGroup",p.defaultProps={vertical:!1,toggle:!1,role:"group"},t.a=p},482:function(e,t,a){var n=a(483);"string"==typeof n&&(n=[[e.i,n,""]]);var r={insert:"head",singleton:!1};a(70)(n,r);n.locals&&(e.exports=n.locals)},483:function(e,t,a){(e.exports=a(69)(!1)).push([e.i,".login-container {\n    max-width: 420px;\n    margin: 0 auto;\n    margin: 0 auto;\n    margin-top: 40px;\n}\n\n.loginLabels {\n   float: left;\n   margin-top: 5px;\n   margin-bottom: 5px;\n   margin-left: 5px;\n}\n\nlabel.form-check-label {\n    margin-left: 5px;\n}\n\n#loginBtn {\n    width: 100%;\n    margin-top: 10px;\n    margin-bottom: 10px;\n}\n\n.or-seperator {\n    margin-top:5px;\n    margin-bottom:5px;\n    width:100%;\n    border-top:1px solid gray;\n}\n\n.social-btn {\n    width: 250px;\n}\n\n.btnOauth2 {\n    display: block;\n    margin-top: 5px;\n    margin-bottom: 5px;\n\n    background: white;\n    color: #444;\n    border-radius: 5px;\n    border: thin solid #888;\n    box-shadow: 1px 1px 1px grey;\n    white-space: nowrap;\n}\n\n.btnOauth2:hover {\n    cursor: pointer;\n  }\n\n#btnGoogle {\n    background-image: url(/images/google-logo.png);\n    background-repeat: no-repeat;\n    background-position: left;\n    padding-left: 40px;\n}\n\n#btnFacebook {\n    background-image: url(/images/facebook-logo.png);\n    background-repeat: no-repeat;\n    background-position: left;\n    padding-left: 40px;\n}\n\n#btnGithub {\n    background-image: url(/images/github-logo.png);\n    background-repeat: no-repeat;\n    background-position: left;\n    padding-left: 40px;\n}\n\n#errorText {\n    color: red;\n}\n\n.forgot-password {\n    display: block;\n    padding-left: 1.25rem;\n    margin-top: 5px;\n    margin-bottom: 5px;\n}",""])},488:function(e,t,a){"use strict";a.r(t);var n=a(16),r=a.n(n),o=a(0),i=a.n(o),s=(a(482),a(54)),l=a(477),c=a(150),p=a(47),m=a(4),d=a(46),g=a(62),b=a(196),u=a.n(b),h=a(149);function f(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}class w extends o.Component{constructor(e){super(e),this.state={item:{usernameOrEmail:"",password:"",error:""}}}componentDidMount(){if(this.props.location.state){const e=u.a.parse(this.props.location.state.from.search).error;this.setState({error:e})}}handleChange(e){let t=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?f(a,!0).forEach((function(t){r()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):f(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},this.state.item);t[e.target.name]=e.target.value,this.setState({item:t})}async handleSubmit(e){e.preventDefault();const{item:t}=this.state;await fetch(h.b+"/auth/login",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({usernameOrEmail:t.usernameOrEmail,password:t.password})}).then(e=>e.headers.get("Authorization")).then(e=>{localStorage.setItem("JWT",e)}),await fetch(h.b+"/user/me",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:localStorage.getItem("JWT")}}).then(e=>e.json()).then(e=>{this.props.addUser(e),this.props.history.push("/")})}render(){return i.a.createElement("div",{className:"login-container"},i.a.createElement("h1",null,"Login"),i.a.createElement("div",{className:"login-content"},i.a.createElement(c.a,{onSubmit:this.handleSubmit.bind(this)},i.a.createElement("p",{id:"errorText",className:"hint-text"},this.state.error),i.a.createElement(c.a.Group,{controlId:"formBasicEmail"},i.a.createElement(c.a.Label,{className:"loginLabels"},"Email address"),i.a.createElement(c.a.Control,{name:"usernameOrEmail",onChange:this.handleChange.bind(this),placeholder:"Enter Username or Email"})),i.a.createElement(c.a.Group,{controlId:"formBasicPassword"},i.a.createElement(c.a.Label,{className:"loginLabels"},"Password"),i.a.createElement(c.a.Control,{type:"password",name:"password",onChange:this.handleChange.bind(this),placeholder:"*******"})),i.a.createElement(c.a.Group,{controlId:"formBasicCheckbox"},i.a.createElement(c.a.Check,{className:"loginLabels",type:"checkbox",label:"Remember me"}),i.a.createElement(c.a.Label,null,i.a.createElement(d.b,{className:"",to:"forgotpassword/"},"Forgot password?"))),i.a.createElement(s.a,{id:"loginBtn",variant:"primary",type:"submit"},"Submit"),i.a.createElement("div",{className:"d-flex"},i.a.createElement("hr",{className:"my-auto flex-grow-1"}),i.a.createElement("div",{className:"px-4"},"or"),i.a.createElement("hr",{className:"my-auto flex-grow-1"})),i.a.createElement("p",{className:"hint-text"},"Sign up with your social media account or email address"),i.a.createElement(l.a,{className:"social-btn text-center btn-group-vertical btn-group-justified"},i.a.createElement(s.a,{id:"btnFacebook",variant:"",className:"btnOauth2",onClick:()=>{window.location.href=h.c+"facebook?redirect_uri="+h.d}},"Facebook"),i.a.createElement(s.a,{id:"btnGoogle",variant:"",className:"btnOauth2",onClick:()=>{window.location.href=h.c+"google?redirect_uri="+h.d}},"Google"),i.a.createElement(s.a,{id:"btnGithub",variant:"",className:"btnOauth2",onClick:()=>{window.location.href=h.c+"github?redirect_uri="+h.d}},"Github")))))}}t.default=Object(p.b)(null,{addUser:m.d})(Object(g.g)(w))}}]);
//# sourceMappingURL=2.js.map